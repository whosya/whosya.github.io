<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>SequenceServer搭建自己的blast服务器</title>
      <link href="2021/03/27/sequenceserver-da-jian-zi-ji-de-blast-fu-wu-qi-jian-dan/"/>
      <url>2021/03/27/sequenceserver-da-jian-zi-ji-de-blast-fu-wu-qi-jian-dan/</url>
      
        <content type="html"><![CDATA[<h2 id="安装-linux"><a href="#安装-linux" class="headerlink" title="安装(linux)"></a>安装(linux)</h2><h3 id="依赖："><a href="#依赖：" class="headerlink" title="依赖："></a>依赖：</h3><h4 id="1-blast"><a href="#1-blast" class="headerlink" title="1.blast"></a>1.blast</h4><p>三种方法：conda安装，自动安装，自定义路径</p><pre class="line-numbers language-Bash" data-language="Bash"><code class="language-Bash">conda install blast  sequenceserver  #sequenceserver安装之后运行自动检测 如果不存在，它将自动下载NCBI BLAST +sequenceserver -s -b &#x2F;path&#x2F;to&#x2F;latest&#x2F;blast&#x2F;binaries  #自定义路径<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><a id="more"></a><h4 id="2-ruby-dev-build-essential和ruby包"><a href="#2-ruby-dev-build-essential和ruby包" class="headerlink" title="2.ruby-dev, build-essential和ruby包"></a>2.ruby-dev, build-essential和ruby包</h4><pre class="line-numbers language-Bash" data-language="Bash"><code class="language-Bash">sudo apt install ruby-dev build-essential ruby<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="安装和运行"><a href="#安装和运行" class="headerlink" title="安装和运行"></a>安装和运行</h3><pre class="line-numbers language-Bash" data-language="Bash"><code class="language-Bash">sudo gem install sequenceserversequenceserver<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>sequenceserver命令配置和运行SequenceServer。如果不存在，它将自动下载NCBI BLAST +，询问包含数据库序列的目录的位置，格式化FASTA文件供BLAST +使用，并在搜索表单中列出它们以供使用。</p><pre class="line-numbers language-Bash" data-language="Bash"><code class="language-Bash">Could not find BLAST+ databases in: &#x2F;home&#x2F;user&#x2F;database&#x2F;sequenceserver.Search for FASTA files (.fa, .fasta, .fna) in &#39;&#x2F;home&#x2F;user&#x2F;database&#x2F;sequenceserver&#39; and trycreating BLAST+ databases? [y&#x2F;n] (Default: y).&gt;&gt; y#&#x2F;home&#x2F;user&#x2F;database&#x2F;sequenceserver是自己创建指定的路径Searching ...FASTA file: &#x2F;home&#x2F;whosy&#x2F;database&#x2F;sequenceserver&#x2F;test.faaFASTA type: proteinProceed? [y&#x2F;n] (Default: y):  y                                     #回车Enter a database title or will use &#39;test&#39;:                          #回车Enter taxid (optional):                                             #回车Building a new DB, current time: 02&#x2F;16&#x2F;2021 20:06:27New DB name:   &#x2F;home&#x2F;whosy&#x2F;database&#x2F;sequenceserver&#x2F;test.faaNew DB title:  testSequence type: ProteinKeep MBits: TMaximum file size: 1000000000BIgnoring sequence &#39;lcl|Bvulgaris21006&#39; as it has no sequence data············dding sequences from FASTA; added 794467 sequences in 23.4606 seconds.[2021-02-16 20:06:51] WARN  Will listen on all interfaces (0.0.0.0). Consider using 127.0.0.1 (--host option).** SequenceServer is ready.   Go to http:&#x2F;&#x2F;localhost:4567 in your browser and start BLASTing!   Press CTRL+C to quit.<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>接下来就可以浏览器输入https://<em>yourhostid</em> :4567</p><p>记得开放4567端口</p><pre class="line-numbers language-Bash" data-language="Bash"><code class="language-Bash">sudo ufw allow 4567<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>注：如果要加入新的数据库直接把文件移入数据库文件夹，再次运行即可。</p><pre><code>  之后再次用nohup命令放到后台运行，即可关掉命令行界面</code></pre><h3 id="进阶用法"><a href="#进阶用法" class="headerlink" title="进阶用法"></a>进阶用法</h3><h6 id="1-常用选项"><a href="#1-常用选项" class="headerlink" title="1.常用选项"></a>1.常用选项</h6><p>下表列出了SequenceServer通过配置文件或命令行选项接受的所有配置值。命令行选项优先于配置文件中的值。</p><table><thead><tr><th>配置文件</th><th>命令行</th><th>描述</th></tr></thead><tbody><tr><td>：bin：</td><td>-b / --bin</td><td>指示BLAST +二进制文件的路径。</td></tr><tr><td>：database_dir：</td><td>-d / --database_dir</td><td>指示BLAST +数据库的路径。</td></tr><tr><td>：num_threads：</td><td>-n / --num_threads</td><td>用于BLAST搜索的线程数。</td></tr><tr><td>：主持人：</td><td>-H /-主机</td><td>主机以在其上运行SequenceServer。</td></tr><tr><td>：港口：</td><td>-p /-端口</td><td>在其上运行SequenceServer的端口。</td></tr><tr><td>：要求：</td><td>-r /-要求</td><td>从该文件加载扩展名。</td></tr></tbody></table><p>下表列出了可用的其他命令行选项。</p><table><thead><tr><th>命令行</th><th>描述</th></tr></thead><tbody><tr><td>-c / --config_file</td><td>提供您的自定义配置文件的路径位置</td></tr><tr><td>-s /-设置</td><td>在默认或给定的配置文件中设置配置值</td></tr><tr><td>-m / --make-blast-databases</td><td>创建BLAST数据库</td></tr><tr><td>-l / --list-databases</td><td>列出找到的BLAST数据库</td></tr><tr><td>-u / --list-unformatted-fastas</td><td>列出未格式化的FASTA文件</td></tr><tr><td>-i / --interactive</td><td>以交互模式运行SequenceServer</td></tr><tr><td>-D /-展开</td><td>在开发（调试）模式下运行SequenceServer</td></tr><tr><td>-v / --version</td><td>打印将要加载的SequenceServer的版本号</td></tr><tr><td>-h /-帮助</td><td>显示此帮助消息</td></tr></tbody></table><p>简单应用：</p><pre class="line-numbers language-none"><code class="language-none">#指定自己的数据路径，并创建blast数据库sequenceserver -m -d &#x2F;path&#x2F;to&#x2F;directory_with_fasta_files#设置新的数据库默认路径sequenceserver -c 〜&#x2F;.sequenceserver.conf -s -d &#x2F;path&#x2F;to&#x2F;new&#x2F;location&#x2F;of&#x2F;database&#x2F; sequences#设置使用自己安装的blast+sequenceserver -s -b &#x2F;path&#x2F;to&#x2F;latest&#x2F;blast&#x2F;binaries<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h6 id="2使用ncbi数据库"><a href="#2使用ncbi数据库" class="headerlink" title="2使用ncbi数据库"></a>2使用ncbi数据库</h6><p>NCBI提供可公开获取的序列作为预格式化的BLAST数据库，并且可以<code>update_blastdb.pl</code> 使用BLAST分发的脚本进行下载。由于这些数据库很大，因此它们被拆分成多个文件（卷）并与别名文件链接在一起。SequenceServer可与此类多部分数据库无缝协作。除了<code>update_blastdb.pl</code>从NCBI更快下载BLAST数据库外，我们还有一种选择 ：<a href="https://github.com/yeban/ncbi-blast-dbs">ncbi-blast-dbs</a>。</p><pre class="line-numbers language-none"><code class="language-none">＃安装ncbi-blast-dbssudo gem install ncbi-blast-dbs＃查看可用的BLAST数据库。ncbi-blast-dbs＃下载一个或多个数据库。ncbi-blast-dbs nt nr<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h6 id="3-taxid的设置，与JBrowse集成，与Apache集成等，有待探索。"><a href="#3-taxid的设置，与JBrowse集成，与Apache集成等，有待探索。" class="headerlink" title="3.-taxid的设置，与JBrowse集成，与Apache集成等，有待探索。"></a>3.<code>-taxid</code>的设置，与JBrowse集成，与Apache集成等，有待探索。</h6>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>Hello World</title>
      <link href="2021/02/18/hello-world/"/>
      <url>2021/02/18/hello-world/</url>
      
        <content type="html"><![CDATA[<div align="middle"><iframe frameborder="no" border="0" marginwidth="0" marginheight="0" width=330 height=86 src="//music.163.com/outchain/player?type=2&id=1788703&auto=1&height=66"></iframe></div><p>Welcome to <a href="https://hexo.io/">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues">GitHub</a>.</p><h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">$ hexo new <span class="token string">"My New Post"</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>More info: <a href="https://hexo.io/docs/writing.html">Writing</a></p><h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">$ hexo server<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>More info: <a href="https://hexo.io/docs/server.html">Server</a></p><h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">$ hexo generate<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>More info: <a href="https://hexo.io/docs/generating.html">Generating</a></p><h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">$ hexo deploy<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>More info: <a href="https://hexo.io/docs/one-command-deployment.html">Deployment</a></p>]]></content>
      
      
      
    </entry>
    
    
  
  
</search>
